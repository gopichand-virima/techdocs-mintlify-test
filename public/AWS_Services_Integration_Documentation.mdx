---
title: "AWS Services Integration Documentation"
description: "Description of your new file."
---

# AWS Services Integration Documentation

# Overview

Virima v6.1 significantly expands AWS cloud infrastructure discovery capabilities by adding 5 new containerized and serverless compute services to the existing foundation of 19 previously supported services. This update focuses on modern cloud-native workloads including container orchestration, serverless functions, and batch processing.

# **What's New in v6.1**

**Five New Services Added:**

- AWS App Runner - Fully managed containerized web application service
- AWS ECS - Elastic Container Service for containerized applications
- AWS EKS - Elastic Kubernetes Service for Kubernetes workloads
- AWS Lambda - Serverless function computing
- AWS Batch - Batch computing workload management

**Enhanced Relationship Mapping:**

- Complete container orchestration visibility (ECS ↔ EC2, EKS ↔ Node Groups)
- Serverless infrastructure dependencies (App Runner ↔ Security Groups)
- Cross-service relationships for comprehensive service mapping

**Complete Service Coverage Matrix**

## Previously Supported Services (19 Services)

These services were available in previous Virima versions with established discovery patterns:

| Service | Coverage Tier | Key Properties | Primary Relationships | |----|----|----|----|----| | AWS EC2 | Full (~90%) | CPU, Memory, Instance State, Security Groups | VPC, Security Group, EBS | | AWS EBS | Full (~85%) | Volume Size, Type, Encryption, Attachment | EC2 Instances | | AWS VPC | Full (~80%) | CIDR Block, DNS Settings, Route Tables | Subnets, Internet Gateway | | AWS Security Group | Full (~85%) | Inbound/Outbound Rules, VPC Association | EC2, RDS, Load Balancers | | AWS S3 | Medium (~70%) | Bucket Configuration, Access Policies | Cross-service dependencies | | AWS Load Balancer | Full (~80%) | Target Groups, Listeners, Health Checks | VPC, Security Groups | | AWS Auto Scaling | Full (~85%) | Capacity, Policies, Launch Templates | EC2, Target Groups | | AWS RDS | Full (~85%) | Database Engine, Multi-AZ, Backup Config | Security Groups, Subnets | | AWS DynamoDB | Medium (~75%) | Tables, Indexes, Capacity Settings | IAM Roles | | AWS ECR | Medium (~70%) | Repositories, Images, Scanning Config | ECS/EKS Dependencies | | AWS NAT Gateway | Medium (~70%) | Network Translation, VPC Association | VPC, Subnets | | AWS Network ACL | Full (~80%) | Network Rules, Subnet Association | VPC, Subnets | | AWS AMI | Medium (~75%) | Image Metadata, Platform Details | EC2 Instances | | AWS Snapshot | Medium (~70%) | Volume Snapshots, Encryption | EBS Volumes | | AWS Route Table | Full (~80%) | Routing Rules, Subnet Association | VPC, Subnets | | AWS Internet Gateway | Full (~85%) | VPC Attachment, Route Association | VPC, Route Tables | | AWS Subnet | Full (~90%) | CIDR, Availability Zone, Route Tables | VPC, EC2, Network ACL | | Target Group | Full (~85%) | Health Check Config, Target Registration | Load Balancers, EC2 | | Route | Medium (~70%) | Destination, Gateway Association | Route Tables, Gateways |

## New Services in v6.1 (5 Services)

These services are newly implemented with modern cloud-native focus:

| Service        | Coverage Tier      | Key Properties                           | Primary Relationships                   |
| -------------- | ------------------ | ---------------------------------------- | --------------------------------------- |
| AWS App Runner | Full (~85%)        | Service URL, CPU/Memory, VPC Connection  | VPC Connector, Security Groups, ECR     |
| AWS ECS        | Full (~90%)        | Clusters, Services, Tasks, Launch Type   | EC2, VPC, Load Balancers, ECR           |
| AWS EKS        | Full (~85%)        | Clusters, Node Groups, Fargate Profiles  | VPC, Security Groups, EC2, Auto Scaling |
| AWS Lambda     | Medium-Full (~75%) | Function Config, Runtime, Memory/Timeout | IAM Roles, VPC, Log Groups              |
| AWS Batch      | Medium (~65%)      | Compute Environments, Job Queues         | ECS/EKS Clusters, VPC, Security Groups  |

# **Detailed Service Documentation**

## AWS App Runner

### Overview

AWS App Runner is a fully managed service for containerized web applications. New in Virima v6.1, this integration discovers App Runner services across all regions and maps their networking and container configurations.

### Supported Properties (Imported)

| Property              | Description                  | Example                                                          |
| --------------------- | ---------------------------- | ---------------------------------------------------------------- |
| Service ARN           | Unique service identifier    | arn:aws:apprunner:us-east-1:123456789012:service/my-app/abcd1234 |
| Service Name          | User-defined service name    | my-web-app                                                       |
| Service URL           | Public application endpoint  | https://abcd1234.us-east-1.awsapprunner.com                      |
| Status                | Operational state            | RUNNING, PAUSED                                                  |
| CPU Count             | Allocated vCPU units         | 1 vCPU, 2 vCPU                                                   |
| Memory (GB)           | Allocated memory             | 2, 4, 8                                                          |
| Auto Deployments      | Automatic deployment enabled | true, false                                                      |
| Container Port        | Application listening port   | 8080, 3000                                                       |
| Health Check Config   | Health monitoring settings   | Protocol, path, intervals                                        |
| VPC Connected         | VPC connectivity status      | true, false                                                      |
| Subnet IDs            | Associated subnets           | subnet-12345678,subnet-87654321                                  |
| Security Group IDs    | Associated security groups   | sg-12345678,sg-87654321                                          |
| Auto Scaling Config   | Scaling configuration        | Configuration name/ARN                                           |
| Publicly Accessible   | Public internet access       | true, false                                                      |
| IP Address Type       | Network addressing           | IPV4, DUAL_STACK                                                 |
| Observability Enabled | Monitoring features          | true, false                                                      |
| Image Repository Type | Container source             | ECR, ECR_PUBLIC                                                  |
| ECR Access Role ARN   | IAM role for ECR             | arn:aws:iam::123456789012:role/...                               |
| Image ID              | Container image identifier   | 123456789012.dkr.ecr.us-east-1.amazonaws.com/my-app:latest       |

### Unsupported Properties (Not Imported)

- Runtime environment variables (security)
- Custom domain mappings
- SSL certificate configurations
- Deployment history
- Real-time performance metrics
- Cost/billing information

### **Prerequisites**

IAM Permissions Required

```
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": [
        "apprunner:ListServices",
        "apprunner:DescribeService",
        "apprunner:DescribeVpcConnector",
        "ec2:DescribeRegions"
      ],
      "Resource": "*"
    }
  ]
}
```

### **Network Requirements**

- Internet access for AWS SDK calls
- HTTPS (443) outbound to apprunner.region.amazonaws.com
- DNS resolution for AWS service endpoints

### **AWS Configuration Requirements**

- At least one App Runner service deployed
- VPC Connector configured (for VPC-connected services)
- ECR repository access (for private images)

### **How to Trigger an Import**

**Phase 1: Configure AWS Credentials (One-time setup)**

- **Navigate to Credentials Management**
  - Log into Virima platform
  - Click on Admin in the left navigation panel
  - Click on Credentials module
  - Click Add New Credential
- **Configure AWS Account Credentials**
  - Select credential type: AWS Account
  - Enter the following details:
    - AWS Access Key ID: Your AWS access key
    - AWS Secret Access Key: Your AWS secret key
    - AWS Account ID: Your 12-digit AWS account number
- **Click Save to store the credential**

**Phase 2: Create and Run Import Job**

- **Navigate to AWS Import**
  - Click on Discovery in the left navigation panel
  - Click on Import from AWS
- **Create Import Job**
  - Click Add AWS Import
  - Select the previously configured AWS credential from dropdown
  - **Choose Import Items**: Check the services you want to import:
    - ☑️ AWS App Runner
    - ☑️ AWS ECS
    - ☑️ AWS EKS
    - ☑️ AWS Lambda
    - ☑️ AWS Batch
    - ☑️ Other AWS services as needed
  - Enter **Import Name** and **Description**
  - Click Start Import

### **Mapping into CMDB/BSM**

Service Representation

- Blueprint: AWS AppRunner
- Primary Key: Service ARN
- Asset Name: Service name
- Location: AWS Region

Relationship Mapping

AWS AppRunner Service

├── SECURED_BY → AWS Security Group (VPC-connected)

├── CONNECTED_TO → AWS Subnet (VPC-connected)

├── SERVED_BY → VPC Connector (VPC-connected)

### **Scheduling & Frequency**

Recommended Frequency

- Production: Every 4-6 hours (deployment-driven changes)
- Development: Daily
- Staging: Every 2-3 hours

### **Troubleshooting & Error Handling**

Common Issues

| **Issue**           | **Cause**                     | **Solution**                                |
| ------------------- | ----------------------------- | ------------------------------------------- |
| Permission Denied   | Insufficient IAM permissions  | Verify IAM policy includes required actions |
| Service Not Found   | App Runner service terminated | Check AWS console for service status        |
| VPC Connector Error | VPC connector misconfigured   | Verify VPC connector in AWS console         |

### **Best Practices & Limitations**

Integration Recommendations

- Combine with ECS/ECR imports for container registry visibility
- Use with VPC/Security Group imports for network mapping
- Supplement with CloudWatch for operational monitoring

## AWS ECS (Elastic Container Service)

### Overview

AWS ECS provides managed container orchestration. New in v6.1, this integration discovers ECS clusters, services, tasks, and task definitions across EC2 and Fargate launch types.

### Supported Properties (Imported)

#### **ECS Clusters**

| Property              | Description               | Example                                               |
| --------------------- | ------------------------- | ----------------------------------------------------- |
| Cluster ARN           | Unique cluster identifier | arn:aws:ecs:us-east-1:123456789012:cluster/my-cluster |
| Cluster Name          | User-defined name         | production-cluster                                    |
| Status                | Operational state         | ACTIVE, INACTIVE                                      |
| Running Tasks Count   | Currently running tasks   | 15                                                    |
| Pending Tasks Count   | Tasks starting up         | 2                                                     |
| Active Services Count | Services in cluster       | 8                                                     |
| Container Instances   | EC2 instances registered  | 5                                                     |
| Capacity Provider     | Default capacity strategy | FARGATE, EC2                                          |

#### **ECS Services**

| Property                  | Description                | Example                                               |
| ------------------------- | -------------------------- | ----------------------------------------------------- |
| Service ARN               | Unique service identifier  | arn:aws:ecs:us-east-1:123456789012:service/my-service |
| Service Name              | User-defined name          | web-service                                           |
| Launch Type               | Task launch method         | FARGATE, EC2                                          |
| Platform Version          | Fargate platform version   | 1.4.0, LATEST                                         |
| Desired Count             | Target task count          | 3                                                     |
| Running Count             | Currently running          | 3                                                     |
| Task Definition           | Associated task definition | web-app:5                                             |
| Load Balancer Integration | Target group associations  | ALB/NLB target groups                                 |
| Service Discovery         | DNS service discovery      | namespace.service.local                               |

#### **ECS Tasks and ECS Fargate**

| Property               | Description                    | Example                                     |
| ---------------------- | ------------------------------ | ------------------------------------------- |
| Task ARN               | Unique task identifier         | arn:aws:ecs:us-east-1:123456789012:task/... |
| Task Definition ARN    | Associated definition          | Task definition reference                   |
| Container Instance ARN | Host EC2 instance (EC2 launch) | Container instance reference                |
| Cluster ARN            | Parent cluster                 | Cluster reference                           |
| Status                 | Current task status            | RUNNING, STOPPED, PENDING                   |
| CPU Units              | Allocated CPU                  | 512, 1024                                   |
| Memory (MB)            | Allocated memory               | 1024, 2048                                  |
| Network Mode           | Networking configuration       | awsvpc, bridge, host                        |
| IP Addresses           | Public/private IPs             | Network interface IPs                       |

### Prerequisites

IAM Permissions Required

```
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": [
        "ecs:ListClusters",
        "ecs:DescribeClusters",
        "ecs:ListServices",
        "ecs:DescribeServices",
        "ecs:ListTasks",
        "ecs:DescribeTasks",
        "ecs:ListTaskDefinitions",
        "ecs:DescribeTaskDefinition",
        "ec2:DescribeRegions"
      ],
      "Resource": "*"
    }
  ]
}
```

### **Mapping into CMDB/BSM**

Service Representation

- ECS Clusters: Blueprint AWS ECS
- ECS Services: Blueprint AWS ECS Service
- EC2 Tasks: Blueprint AWS ECS Task
- Fargate Tasks: Blueprint AWS FARGATE

### **Relationship Mapping**

AWS ECS Cluster

├── CONTAINS → AWS ECS Service

│ ├── CONTAINS → AWS ECS Task / AWS FARGATE

│ └── SERVED_BY → AWS Load Balancer

├── CONTAINS → AWS EC2 Instance (EC2 launch type)

├── SECURED_BY → AWS Security Group

└── CONTAINS → AWS Subnet

### **Scheduling & Frequency**

- Production: Every 2-4 hours (containers are dynamic)
- Development: Every 6-8 hours
- Staging: Every 3-4 hours

## AWS EKS (Elastic Kubernetes Service)

### Overview

AWS EKS provides managed Kubernetes clusters. New in v6.1, this integration discovers EKS clusters, node groups, and Fargate profiles with comprehensive Kubernetes infrastructure mapping.

### Supported Properties (Imported)

#### **EKS Clusters**

| Property              | Description               | Example                                               |
| --------------------- | ------------------------- | ----------------------------------------------------- |
| Cluster ARN           | Unique cluster identifier | arn:aws:eks:us-east-1:123456789012:cluster/my-cluster |
| Cluster Name          | User-defined name         | production-k8s                                        |
| Version               | Kubernetes version        | 1.21, 1.22                                            |
| Status                | Cluster operational state | ACTIVE, CREATING                                      |
| Endpoint URL          | Kubernetes API endpoint   | https://ABC123.gr7.us-east-1.eks.amazonaws.com        |
| VPC Configuration     | Network settings          | VPC ID, subnets, security groups                      |
| OIDC Issuer URL       | Identity provider         | OIDC endpoint                                         |
| Logging Configuration | Enabled log types         | API, audit, authenticator logs                        |

#### **EKS Node Groups**

<table style="min-width: 75px">
<colgroup><col style="min-width: 25px"><col style="min-width: 25px"><col style="min-width: 25px"></colgroup><tbody><tr><th colspan="1" rowspan="1"><p>Property</p></th><th colspan="1" rowspan="1"><p>Description</p></th><th colspan="1" rowspan="1"><p>Example</p></th></tr><tr><td colspan="1" rowspan="1"><p>Node Group ARN</p></td><td colspan="1" rowspan="1"><p>Unique identifier</p></td><td colspan="1" rowspan="1"><p>arn:aws:eks:us-east-1:123456789012:nodegroup/...</p></td></tr><tr><td colspan="1" rowspan="1"><p>Instance Types</p></td><td colspan="1" rowspan="1"><p>EC2 instance types</p></td><td colspan="1" rowspan="1"><p>t3.medium,t3.large</p></td></tr><tr><td colspan="1" rowspan="1"><p>Capacity Type</p></td><td colspan="1" rowspan="1"><p>Purchasing option</p></td></tr></tbody>
</table>